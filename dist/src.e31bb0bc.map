{"version":3,"sources":["../node_modules/hyperapp/src/index.js","../node_modules/picostyle/src/index.js","style.js","components/Screen.js","components/DockBarIcon.js","components/DockBar.js","cfg.js","components/SystemTopBar.js","components/Draggable.js","components/apps/Browser.js","components/apps/Word.js","components/apps/Paint.js","libs.js","components/apps/Finder.js","components/apps/AppSelector.js","components/AppWindow.js","components/Icon.js","model.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/_overArg.js","../node_modules/lodash-es/_getPrototype.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/isPlainObject.js","../node_modules/symbol-observable/es/ponyfill.js","../node_modules/symbol-observable/es/index.js","../node_modules/redux/es/createStore.js","../node_modules/redux/es/utils/warning.js","../node_modules/redux/es/combineReducers.js","../node_modules/redux/es/bindActionCreators.js","../node_modules/redux/es/compose.js","../node_modules/redux/es/applyMiddleware.js","../node_modules/redux/es/index.js","../node_modules/redux-devtools-extension/index.js","../node_modules/hyperapp-redux-devtools/index.js","index.js"],"names":["h","name","attributes","rest","children","length","arguments","push","node","pop","nodeName","key","app","state","actions","view","container","map","rootElement","oldNode","recycleElement","lifecycle","skipRender","isRecycling","globalState","clone","wiredActions","wireStateToActions","scheduleRender","element","toLowerCase","call","childNodes","nodeType","nodeValue","resolveNode","render","patch","setTimeout","target","source","out","i","setPartialState","path","value","slice","getPartialState","action","data","result","then","concat","getKey","eventListener","event","currentTarget","events","type","updateAttribute","oldValue","isSvg","style","cssText","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","createElement","document","createTextNode","createElementNS","oncreate","appendChild","updateElement","oldAttributes","cb","onupdate","removeChildren","ondestroy","removeElement","parent","done","removeChild","onremove","newElement","insertBefore","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","k","newKey","keyedNode","_id","sheet","head","hyphenate","str","replace","insert","rule","insertRule","cssRules","createStyle","obj","id","parse","forEach","wrap","stringToWrap","wrapper","classname","isInsideObj","arr","prop","sub","test","join","cache","decls","nodeDecls","JSON","stringify","class","filter","Boolean","keyframes","position","width","height","backgroundImage","backgroundSize","DockBarIcon","props","handleClick","display","margin","transition","icon","transform","bottom","left","background","borderRadius","zIndex","topBarHeight","extMap","folder","txt","jpg","html","extToType","SystemTopBar","color","top","padding","justifyContent","Clock","setInterval","updateTime","Date","time","toString","split","x0","y0","Draggable","ondrag","up","e","x","y","dx","dy","Browser","frame","payload","dangerouslySetInnerHTML","innerHTML","Word","boxSizing","overflow","Paint","flex","maxHeight","maxWidth","getExtension","file","ext","reverse","pathToArray","el","getActiveFrame","Object","values","frames","sort","a","b","Icon","item","image","textAlign","wordBreak","goToDir","openFrame","fileName","Finder","activeFolder","fs","keys","cursor","index","typeToComponentMapping","AppSelector","Component","AppWindow","place","fullscreen","size","window","innerWidth","innerHeight","border","boxShadow","move","changeFullscreen","closeFrame","hide","alignItems","right","resize","borderBottom","borderLeft","getFile","link","icons","cats","small","withOne","fn","newFrames","Number","Math","max","activeFrame","newFrame","shown","maxZIndex","show","freeGlobal","global","freeSelf","self","root","Function","Symbol","objectProto","prototype","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","undefined","getRawTag","isOwn","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","overArg","func","arg","getPrototype","getPrototypeOf","isObjectLike","objectTag","funcProto","funcToString","objectCtorString","isPlainObject","proto","Ctor","constructor","symbolObservablePonyfill","observable","module","ActionTypes","INIT","createStore","reducer","preloadedState","enhancer","_ref2","Error","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","unsubscribe","indexOf","splice","dispatch","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","TypeError","observeState","next","$$observable","warning","message","console","error","getUndefinedStateErrorMessage","actionType","actionName","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","argumentName","match","unexpectedKeys","assertReducerShape","initialState","random","substring","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","combination","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","apply","bindActionCreators","actionCreators","boundActionCreators","compose","_len","funcs","Array","reduce","_extends","assign","applyMiddleware","middlewares","store","_dispatch","chain","middlewareAPI","middleware","isCrushed","App","require","getElementById"],"mappings":"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;AACA;;AACA;;AACA;;;;AAEA;;;;AAIA,SAASI,SAAT,GAAqB,CAAE;;AAEvB,IAAI,kBAAyB,YAAzB,IAAyC,OAAOA,SAAS,CAACvX,IAAjB,KAA0B,QAAnE,IAA+EuX,SAAS,CAACvX,IAAV,KAAmB,WAAtG,EAAmH;AACjH,wBAAQ,mFAAmF,uEAAnF,GAA6J,oFAA7J,GAAoP,4EAApP,GAAmU,gEAA3U;AACD;;ACfD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAEA;;;;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMwX,GAAG,GAAG,SAANA,GAAM,CAAC5W,KAAD,EAAQC,OAAR;AAAA,SACV,iBAAC,eAAD,QACE,iBAAC,qBAAD,QACE,8BACE,uCADF,CADF,EAIE,8BAAM,CAAC,0BAAeD,KAAf,KAAyB;AAAEZ,IAAAA,IAAI,EAAE;AAAR,GAA1B,EAAyCA,IAA/C,CAJF,EAKE,8BACE,iBAAC,mBAAD,OADF,CALF,CADF,EAWGmM,MAAM,CAACC,MAAP,CAAcxL,KAAK,CAACkO,KAApB,EAA2B9N,GAA3B,CAA+B,UAAA4H,IAAI;AAAA,WAClC,iBAAC,UAAD;AAAM,MAAA,GAAG,EAAEA,IAAI,CAACjC,EAAhB;AAAoB,MAAA,IAAI,EAAEiC;AAA1B,MADkC;AAAA,GAAnC,CAXH,EAeGuD,MAAM,CAACC,MAAP,CAAcxL,KAAK,CAACyL,MAApB,EACEvE,MADF,CACS,UAAAnH,GAAG;AAAA,WAAIA,GAAG,CAAC8O,KAAR;AAAA,GADZ,EAEEzO,GAFF,CAEM,UAAAL,GAAG;AAAA,WACN,iBAAC,kBAAD;AAAW,MAAA,GAAG,EAAEA,GAAG,CAACgG,EAApB;AAAwB,MAAA,GAAG,EAAEhG;AAA7B,MADM;AAAA,GAFT,CAfH,EAqBE,iBAAC,gBAAD,QACGwL,MAAM,CAACC,MAAP,CAAcxL,KAAK,CAACyL,MAApB,EAA4BrL,GAA5B,CAAgC,UAAAL,GAAG;AAAA,WAClC,iBAAC,oBAAD;AACE,MAAA,GAAG,EAAEA,GAAG,CAACgG,EADX;AAEE,MAAA,GAAG,EAAEhG,GAFP;AAGE,MAAA,WAAW,EAAE,uBAAM;AACjBE,QAAAA,OAAO,CAACwL,MAAR,CAAe3B,EAAf,CAAkB;AAAE/D,UAAAA,EAAE,EAAEhG,GAAG,CAACgG;AAAV,SAAlB;AACA9F,QAAAA,OAAO,CAACwL,MAAR,CAAesD,IAAf,CAAoB;AAAEhJ,UAAAA,EAAE,EAAEhG,GAAG,CAACgG;AAAV,SAApB;AACD;AANH,MADkC;AAAA,GAAnC,CADH,CArBF,CADU;AAAA,CAAZ;;AAqCA,IAAI,kBAAyB,YAA7B,EAA2C;AACzC8Q,EAAAA,OAAO,CAAC,yBAAD,CAAP,CAAmC9W,aAAnC,EACEC,YADF,EAEEC,cAFF,EAGE2W,GAHF,EAIEnT,QAAQ,CAACqT,cAAT,CAAwB,KAAxB,CAJF;AAMD,CAPD,MAOO;AACL,qBAAI9W,YAAJ,EAAWC,cAAX,EAAoB2W,GAApB,EAAyBnT,QAAQ,CAACqT,cAAT,CAAwB,KAAxB,CAAzB;AACD","file":"src.e31bb0bc.map","sourceRoot":"../src","sourcesContent":["export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","var _id = 0\nvar sheet = document.head.appendChild(document.createElement(\"style\")).sheet\n\nfunction hyphenate(str) {\n  return str.replace(/[A-Z]/g, \"-$&\").toLowerCase()\n}\n\nfunction insert(rule) {\n  sheet.insertRule(rule, sheet.cssRules.length)\n}\nfunction createStyle(obj) {\n  var id = \"p\" + _id++\n  parse(obj, \".\" + id).forEach(insert)\n  return id\n}\nfunction wrap(stringToWrap, wrapper) {\n  return wrapper + \"{\" + stringToWrap + \"}\"\n}\n\nfunction parse(obj, classname, isInsideObj) {\n  var arr = [\"\"]\n  isInsideObj = isInsideObj || 0\n  for (var prop in obj) {\n    var value = obj[prop]\n    prop = hyphenate(prop)\n    // Same as typeof value === 'object', but smaller\n    if (!value.sub) {\n      if (/^(:|>|\\.|\\*)/.test(prop)) {\n        prop = classname + prop\n      }\n      // replace & in \"&:hover\", \"p>&\"\n      prop = prop.replace(/&/g, classname)\n      arr.push(\n        wrap(parse(value, classname, 1 && !/^@/.test(prop)).join(\"\"), prop)\n      )\n    } else {\n      arr[0] += prop + \":\" + value + \";\"\n    }\n  }\n  if (!isInsideObj) {\n    arr[0] = wrap(arr[0], classname)\n  }\n  return arr\n}\nexport default function(h) {\n  return function(nodeName) {\n    var cache = {}\n    return function(decls) {\n      return function(attributes, children) {\n        attributes = attributes || {}\n        children = attributes.children || children\n        var nodeDecls = typeof decls == \"function\" ? decls(attributes) : decls\n        var key = JSON.stringify(nodeDecls)\n        cache[key] || (cache[key] = createStyle(nodeDecls))\n        attributes.class = [attributes.class, cache[key]]\n          .filter(Boolean)\n          .join(\" \")\n        return h(nodeName, attributes, children)\n      }\n    }\n  }\n}\nexport function keyframes(obj) {\n  var id = \"p\" + _id++\n  insert(wrap(parse(obj, id, 1).join(\"\"), \"@keyframes \" + id))\n  return id\n}\n","import { h } from \"hyperapp\";\nimport picostyle from \"picostyle\";\n\nexport default picostyle(h);\n","import { h } from \"hyperapp\";\nimport pc from \"../style\";\n\nexport default pc(\"div\")({\n  position: \"fixed\",\n  width: \"100%\",\n  height: \"100%\",\n  backgroundImage:\n    \"url(http://cdn.osxdaily.com/wp-content/uploads/2018/06/macos-mojave-night-lightened-r.jpg)\",\n  backgroundSize: \"cover\"\n});\n","import { h } from \"hyperapp\";\nimport pc from \"../style\";\n\nconst DockBarIcon = (props, children) => {\n  return (\n    <div class={props.class} onclick={props.handleClick}>\n      {children}\n    </div>\n  );\n};\n\nexport default pc(DockBarIcon)(({ app }) => ({\n  display: \"inline-block\",\n  height: \"40px\",\n  width: \"40px\",\n  margin: \"10px\",\n  transition: \"all 0.2s\",\n  backgroundImage: `url(${app.icon})`,\n  backgroundSize: \"contain\",\n  \":hover\": {\n    transform: \"scale(1.3)\"\n  }\n}));\n","import { h } from \"hyperapp\";\nimport pc from \"../style\";\n\nexport default pc(\"div\")({\n  position: \"absolute\",\n  bottom: \"0\",\n  left: \"50%\",\n  transform: \"translateX(-50%)\",\n  display: \"inline-block\",\n  height: \"60px\",\n  background: \"black\",\n  borderRadius: \"10px 10px 0 0\",\n  zIndex: \"99999\"\n});\n","export const topBarHeight = 20;\nexport const extMap = {\n  folder: \"https://img.icons8.com/color/96/000000/folder-invoices.png\",\n  txt: \"https://img.icons8.com/color/96/000000/txt.png\",\n  jpg: \"https://img.icons8.com/color/96/000000/jpg.png\",\n  html: \"https://img.icons8.com/color/96/000000/html-filetype.png\"\n};\n\nexport const extToType = {\n  txt: \"Word\",\n  jpg: \"Paint\",\n  folder: \"Finder\",\n  html: \"Browser\"\n};\n","import { h } from \"hyperapp\";\nimport pc from \"../style\";\n\nimport { topBarHeight } from \"../cfg\";\n\nconst SystemTopBar = (props, children) => {\n  return <div class={props.class}>{children}</div>;\n};\n\nexport default pc(SystemTopBar)(() => ({\n  height: `${topBarHeight}px`,\n  width: \"100%\",\n  background: \"black\",\n  color: \"white\",\n  position: \"absolute\",\n  top: \"0\",\n  padding: \"0 5px\",\n  display: \"flex\",\n  justifyContent: \"space-between\"\n}));\n\nexport const Clock = () => (state, actions) => (\n  <div oncreate={() => setInterval(() => actions.updateTime(new Date()), 1000)}>\n    {state.time\n      .toString()\n      .split(\" \")\n      .slice(0, 5)\n      .join(\" \")}\n  </div>\n);\n","import { h } from \"hyperapp\";\n\nlet x0;\nlet y0;\n\nconst Draggable = ({ ondrag, up = () => {} }, children) => (\n  <div\n    onmousedown={e => {\n      x0 = e.x;\n      y0 = e.y;\n      up();\n    }}\n    draggable\n    ondrag={e => {\n      // hack\n      if (e.x === 0 && e.y === 0) return;\n\n      const dx = e.x - x0;\n      const dy = e.y - y0;\n      ondrag(dx, dy);\n      x0 = e.x;\n      y0 = e.y;\n    }}\n  >\n    {children}\n  </div>\n);\n\nexport default Draggable;\n","import { h } from \"hyperapp\";\n\nconst Browser = ({ frame }) => (\n  <iframe width=\"100%\" height=\"100%\" src={frame.app.payload} title=\"browser\" />\n);\n\nexport default Browser;\n","import { h } from \"hyperapp\";\n\nfunction dangerouslySetInnerHTML(html) {\n  return element => {\n    element.innerHTML = html;\n  };\n}\n\nconst Word = ({ frame }) => (\n  <div\n    contenteditable=\"true\"\n    style={{\n      width: \"100%\",\n      height: \"100%\",\n      boxSizing: \"border-box\",\n      padding: \"10px\",\n      overflow: \"scroll\"\n    }}\n    oncreate={dangerouslySetInnerHTML(frame.app.payload)}\n  />\n);\n\nexport default Word;\n","import { h } from \"hyperapp\";\n\nconst Paint = ({ frame }) => (\n  <img\n    src={frame.app.payload}\n    alt=\"img\"\n    style={{\n      flex: \"none\",\n      maxHeight: \"100%\",\n      maxWidth: \"100%\"\n    }}\n  />\n);\n\nexport default Paint;\n","export const getExtension = file => {\n  const ext = file\n    .split(\"/\")\n    .reverse()[0]\n    .split(\".\")[1];\n\n  return ext ? ext : \"folder\";\n};\n\nexport const pathToArray = path => path.split(\"/\").filter(el => el);\n\nexport const getActiveFrame = state =>\n  Object.values(state.frames).sort((a, b) => b.zIndex - a.zIndex)[0];\n","import { h } from \"hyperapp\";\n\nimport { extMap } from \"../../cfg\";\nimport { getExtension, pathToArray } from \"../../libs\";\n\nconst Icon = ({ item, payload, frame }) => (state, actions) => {\n  const ext = getExtension(item);\n\n  const image = extMap[ext];\n\n  return (\n    <div\n      style={{\n        padding: \"5px\",\n        maxWidth: \"120px\",\n        textAlign: \"center\",\n        wordBreak: \"break-word\"\n      }}\n    >\n      <img\n        src={image}\n        height=\"40\"\n        alt=\"icon\"\n        ondblclick={() => {\n          if (ext === \"folder\") {\n            actions.frames.goToDir({\n              id: frame.id,\n              path: `/${pathToArray(frame.app.payload)\n                .concat([item])\n                .join(\"/\")}`\n            });\n          } else {\n            actions.openFrame({ fileName: item, payload });\n          }\n        }}\n      />\n      <div>{item}</div>\n    </div>\n  );\n};\n\nconst Finder = ({ frame }) => (state, actions) => {\n  const path = pathToArray(frame.app.payload);\n\n  let activeFolder = state.fs;\n\n  path.forEach(el => {\n    activeFolder = activeFolder[el];\n  });\n\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"100%\"\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\"\n        }}\n      >\n        {Object.keys(activeFolder).map(item => (\n          <Icon item={item} payload={activeFolder[item]} frame={frame} />\n        ))}\n      </div>\n\n      <div\n        style={{\n          position: \"absolute\",\n          bottom: \"0\",\n          color: \"white\",\n          background: \"black\",\n          width: \"100%\"\n        }}\n      >\n        <span\n          style={{ cursor: \"pointer\" }}\n          onclick={() =>\n            actions.frames.goToDir({\n              id: frame.id,\n              path: \"/\"\n            })\n          }\n        >\n          Disk >{\" \"}\n        </span>\n        {path.map((el, index) => (\n          <span\n            style={{ cursor: \"pointer\" }}\n            onclick={() =>\n              actions.frames.goToDir({\n                id: frame.id,\n                path: \"/\" + path.slice(0, index + 1).join(\"/\")\n              })\n            }\n          >\n            {el} >{\" \"}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Finder;\n","import { h } from \"hyperapp\";\n\nimport Browser from \"./Browser\";\nimport Word from \"./Word\";\nimport Paint from \"./Paint\";\nimport Finder from \"./Finder\";\n\nconst typeToComponentMapping = {\n  Word,\n  Paint,\n  Finder,\n  Browser\n};\n\nconst AppSelector = ({ frame }) => {\n  const Component = typeToComponentMapping[frame.app.type];\n\n  return <Component frame={frame} />;\n};\n\nexport default AppSelector;\n","import { h } from \"hyperapp\";\n\nimport Draggable from \"./Draggable\";\nimport AppSelector from \"./apps/AppSelector\";\nimport { topBarHeight } from \"../cfg\";\n\nconst AppWindow = ({ app: frame }) => (state, actions) => {\n  let place = frame.fullscreen\n    ? {\n        position: { x: 0, y: topBarHeight },\n        size: { x: window.innerWidth, y: window.innerHeight - topBarHeight }\n      }\n    : {\n        position: frame.position,\n        size: frame.size\n      };\n  return (\n    <div\n      key={frame.id}\n      style={{\n        position: \"absolute\",\n        top: place.position.y + \"px\",\n        left: place.position.x + \"px\",\n        width: place.size.x + \"px\",\n        height: place.size.y + \"px\",\n        border: \"1px solid black\",\n        background: \"white\",\n        borderRadius: \"5px\",\n        zIndex: frame.zIndex,\n        boxShadow: \"rgba(68, 68, 68, 0.75) 2px 2px 10px 0px\"\n      }}\n      onclick={() => actions.frames.up({ id: frame.id })}\n    >\n      <Draggable\n        ondrag={(dx, dy) => actions.frames.move({ id: frame.id, dx, dy })}\n        up={() => actions.frames.up({ id: frame.id })}\n      >\n        <div\n          style={{\n            height: \"20px\",\n            padding: \"0 5px\",\n            background: \"black\",\n            color: \"white\",\n            textAlign: \"center\",\n            cursor: \"move\"\n          }}\n          ondblclick={() => {\n            actions.frames.changeFullscreen({ id: frame.id });\n          }}\n        >\n          <div\n            style={{\n              position: \"absolute\",\n              left: 0\n            }}\n          >\n            <div\n              style={{\n                display: \"inline-block\",\n                background: \"red\",\n                width: \"10px\",\n                height: \"10px\",\n                borderRadius: \"50%\",\n                margin: \"0 0 0 5px\",\n                cursor: \"pointer\"\n              }}\n              onclick={() => actions.closeFrame({ id: frame.id })}\n            />\n            <div\n              style={{\n                display: \"inline-block\",\n                background: \"yellow\",\n                width: \"10px\",\n                height: \"10px\",\n                borderRadius: \"50%\",\n                margin: \"0 0 0 5px\",\n                cursor: \"pointer\"\n              }}\n              onclick={() => actions.frames.hide({ id: frame.id })}\n            />\n            <div\n              style={{\n                display: \"inline-block\",\n                background: \"green\",\n                width: \"10px\",\n                height: \"10px\",\n                borderRadius: \"50%\",\n                margin: \"0 0 0 5px\",\n                cursor: \"pointer\"\n              }}\n              onclick={() => {\n                actions.frames.changeFullscreen({ id: frame.id });\n              }}\n            />\n          </div>\n\n          {frame.app.type}\n        </div>\n      </Draggable>\n\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          height: `calc(100% - ${topBarHeight}px)`\n        }}\n      >\n        <AppSelector frame={frame} />\n      </div>\n\n      <div\n        style={{\n          position: \"absolute\",\n          right: 0,\n          bottom: 0,\n          width: \"10px\",\n          height: \"10px\",\n          cursor: \"se-resize\"\n        }}\n      >\n        <Draggable\n          ondrag={(dx, dy) => actions.frames.resize({ id: frame.id, dx, dy })}\n          up={() => actions.frames.up({ id: frame.id })}\n        >\n          <div\n            style={{\n              width: 0,\n              height: 0,\n              borderBottom: \"10px solid black\",\n              borderLeft: \"10px solid transparent\"\n            }}\n          />\n        </Draggable>\n      </div>\n    </div>\n  );\n};\n\nexport default AppWindow;\n","import { h } from \"hyperapp\";\nimport Draggable from \"./Draggable\";\nimport { extMap } from \"../cfg\";\nimport { getExtension, pathToArray } from \"../libs\";\n\nconst getFile = (path, state) => {\n  let file = state.fs;\n\n  pathToArray(path).forEach(el => {\n    file = file[el];\n  });\n\n  return file;\n};\n\nexport const Icon = ({ icon }) => (state, actions) => {\n  const ext = getExtension(icon.link);\n  const image = extMap[ext];\n\n  const fileName = icon.link;\n  const payload = getFile(icon.link, state);\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: icon.position.y + \"px\",\n        left: icon.position.x + \"px\",\n        cursor: \"pointer\"\n      }}\n    >\n      <Draggable\n        ondrag={(dx, dy) => actions.icons.move({ id: icon.id, dx, dy })}\n      >\n        <img\n          src={image}\n          height=\"40\"\n          alt=\"icon\"\n          ondblclick={() => {\n            actions.openFrame({\n              fileName,\n              payload\n            });\n          }}\n        />\n      </Draggable>\n      <div\n        style={{\n          maxWidth: \"60px\",\n          color: \"white\",\n          textAlign: \"center\",\n          wordBreak: \"break-word\"\n        }}\n      >\n        {icon.name}\n      </div>\n    </div>\n  );\n};\n","import { getExtension, getActiveFrame } from \"./libs\";\nimport { extToType } from \"./cfg\";\n\nexport const state = {\n  time: new Date(),\n\n  fs: {\n    \"cat.jpg\": \"http://placekitten.com/200/300\",\n    \"wiki.html\": \"https://www.wikipedia.org\",\n    \"note.txt\": `\n      Some random notes about this fun program written with HyperApp\n    `,\n    cats: {\n      \"1.jpg\": \"http://placekitten.com/500/500\",\n      \"2.jpg\": \"http://placekitten.com/500/200\",\n      small: {\n        \"3.jpg\": \"http://placekitten.com/100/100\",\n        \"4.jpg\": \"http://placekitten.com/100/50\"\n      }\n    }\n  },\n\n  icons: {\n    1: {\n      id: 1,\n      link: \"/cat.jpg\",\n      name: \"cat.jpg\",\n      position: { x: 900, y: 100 }\n    },\n    2: {\n      id: 2,\n      link: \"/cats\",\n      name: \"cats\",\n      position: { x: 900, y: 170 }\n    },\n    3: {\n      id: 3,\n      link: \"/wiki.html\",\n      name: \"wikipedia.html\",\n      position: { x: 970, y: 100 }\n    },\n    4: {\n      id: 4,\n      link: \"/note.txt\",\n      name: \"note.txt\",\n      position: { x: 900, y: 240 }\n    }\n  },\n\n  frames: {}\n};\n\nconst withOne = (id, fn) => state => {\n  if (!state[id]) return {};\n  return {\n    [id]: {\n      ...state[id],\n      ...fn(state[id])\n    }\n  };\n};\n\nexport const actions = {\n  updateTime: time => state => ({ ...state, time }),\n\n  icons: {\n    move: ({ id, dx, dy }) =>\n      withOne(id, icon => ({\n        position: {\n          x: icon.position.x + dx,\n          y: icon.position.y + dy\n        }\n      }))\n  },\n\n  closeFrame: ({ id }) => state => {\n    let newFrames = {};\n    Object.keys(state.frames)\n      .filter(key => Number(key) !== id)\n      .forEach(key => {\n        newFrames[key] = state.frames[key];\n      });\n\n    return { frames: newFrames };\n  },\n\n  openFrame: ({ fileName, payload = null }) => state => {\n    const id =\n      Math.max(\n        ...Object.keys(state.frames)\n          .map(Number)\n          .concat([0])\n      ) + 1;\n\n    const ext = getExtension(fileName);\n    const type = extToType[ext];\n\n    if (ext === \"folder\") payload = fileName;\n\n    const zIndex = (getActiveFrame(state) || { zIndex: 0 }).zIndex + 1;\n\n    const activeFrame = Object.values(state.frames).reverse()[0] || {\n      position: { x: 100, y: 100 }\n    };\n\n    const newFrame = {\n      id,\n      icon: \"https://img.icons8.com/color/96/000000/chrome.png\",\n      position: {\n        x: activeFrame.position.x + 10,\n        y: activeFrame.position.y + 10\n      },\n      size: {\n        x: 400,\n        y: 500\n      },\n      shown: true,\n      fullscreen: false,\n      zIndex,\n      app: {\n        type,\n        payload\n      }\n    };\n\n    return { frames: { ...state.frames, [id]: newFrame } };\n  },\n\n  frames: {\n    goToDir: ({ id, path }) =>\n      withOne(id, frame => ({\n        app: {\n          ...frame.app,\n          payload: path\n        }\n      })),\n\n    move: ({ id, dx, dy }) =>\n      withOne(id, frame => ({\n        position: {\n          x: frame.position.x + dx,\n          y: frame.position.y + dy\n        }\n      })),\n\n    resize: ({ id, dx, dy }) =>\n      withOne(id, frame => ({\n        size: {\n          x: frame.size.x + dx,\n          y: frame.size.y + dy\n        }\n      })),\n\n    up: ({ id }) => state => {\n      let maxZIndex =\n        Math.max(...Object.values(state).map(frame => frame.zIndex)) + 1;\n\n      return withOne(id, frame => ({\n        zIndex: maxZIndex\n      }))(state);\n    },\n\n    changeFullscreen: ({ id }) =>\n      withOne(id, frame => ({\n        fullscreen: !frame.fullscreen\n      })),\n\n    show: ({ id }) =>\n      withOne(id, frame => ({\n        shown: true\n      })),\n\n    hide: ({ id }) =>\n      withOne(id, frame => ({\n        shown: false\n      }))\n  }\n};\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import isPlainObject from 'lodash-es/isPlainObject';\nimport $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nexport var ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};export default function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}","/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nexport default function warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}","import { ActionTypes } from './createStore';\nimport isPlainObject from 'lodash-es/isPlainObject';\nimport warning from './utils/warning';\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nexport default function combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning('No reducer provided for key \"' + key + '\"');\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}","function bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nexport default function bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport compose from './compose';\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nexport default function applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, preloadedState, enhancer) {\n      var store = createStore(reducer, preloadedState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}","import createStore from './createStore';\nimport combineReducers from './combineReducers';\nimport bindActionCreators from './bindActionCreators';\nimport applyMiddleware from './applyMiddleware';\nimport compose from './compose';\nimport warning from './utils/warning';\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose };","\"use strict\";\n\nvar compose = require('redux').compose;\n\nexports.__esModule = true;\nexports.composeWithDevTools = (\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ :\n    function() {\n      if (arguments.length === 0) return undefined;\n      if (typeof arguments[0] === 'object') return compose;\n      return compose.apply(null, arguments);\n    }\n);\n\nexports.devToolsEnhancer = (\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION__ :\n    function() { return function(noop) { return noop; } }\n);\n","var { createStore } = require(\"redux\");\nvar { composeWithDevTools } = require(\"redux-devtools-extension\");\n\nfunction reduxReducer(state = {}, action) {\n  return Object.assign({}, state, action.payload);\n}\n\nfunction reducAction(name, data) {\n  return {\n    type: name,\n    payload: data\n  };\n}\n\nfunction copy(target, source) {\n  var obj = {};\n  for (var i in target) obj[i] = target[i];\n  for (var i in source) obj[i] = source[i];\n  return obj;\n}\n\nfunction set(path, value, source, target) {\n  if (path.length) {\n    target[path[0]] =\n      1 < path.length ? set(path.slice(1), value, source[path[0]], {}) : value;\n    return copy(source, target);\n  }\n  return value;\n}\n\nfunction get(path, source) {\n  for (var i = 0; i < path.length; i++) {\n    source = source[path[i]];\n  }\n  return source;\n}\n\nmodule.exports = function devtools(app) {\n  var composeEnhancers = composeWithDevTools({ action: reducAction });\n  var store;\n\n  return function(state, actions, view, container) {\n    var appActions;\n\n    function wire(path, actions) {\n      for (var key in actions) {\n        if (typeof actions[key] === \"function\") {\n          (function(key, action) {\n            actions[key] = function() {\n              var reducer = action.apply(this, arguments);\n              return function (slice) {\n                var data = typeof reducer === \"function\"\n                  ? reducer(slice, get(path, appActions))\n                  : reducer;\n                if (data && !data.then) {\n                  state = set(path, copy(slice, data), state, {});\n                  store.dispatch(reducAction(key, state));\n                }\n                return data;\n              };\n            };\n          })(key, actions[key]);\n        } else {\n          wire(path.concat(key), (actions[key] = copy(actions[key])));\n        }\n      }\n    }\n    wire([], (actions = copy(actions)));\n\n    actions.replaceState = function(actualState) {\n      return function (state) {\n        return actualState;\n      }\n    };\n    store = createStore(reduxReducer, state, composeEnhancers());\n    store.subscribe(function() {\n      appActions.replaceState(store.getState());\n    });\n\n    appActions = app(state, actions, view, container);\n    return appActions;\n  };\n};\n\n","import { h, app } from \"hyperapp\";\n\nimport Screen from \"./components/Screen\";\nimport DockBarIcon from \"./components/DockBarIcon\";\nimport DockBar from \"./components/DockBar\";\nimport SystemTopBar, { Clock } from \"./components/SystemTopBar\";\nimport AppWindow from \"./components/AppWindow\";\nimport { Icon } from \"./components/Icon\";\n\nimport { state, actions } from \"./model\";\n\nimport { getActiveFrame } from \"./libs\";\n\n// icons\n// https://icons8.com/icon/set/game/color\n\n// TODO:\n// app icons\n// group app by type for dockBar and always show apps in doc bar\n// allow frames with empty app.payload\n// some random data for fs\n// menu for top bar\n// transitions https://github.com/zaceno/hyperapp-transitions\n// deploy\n\nconst App = (state, actions) => (\n  <Screen>\n    <SystemTopBar>\n      <div>\n        <span>JSOS </span>\n      </div>\n      <div>{(getActiveFrame(state) || { name: \"-\" }).name}</div>\n      <div>\n        <Clock />\n      </div>\n    </SystemTopBar>\n\n    {Object.values(state.icons).map(icon => (\n      <Icon key={icon.id} icon={icon} />\n    ))}\n\n    {Object.values(state.frames)\n      .filter(app => app.shown)\n      .map(app => (\n        <AppWindow key={app.id} app={app} />\n      ))}\n\n    <DockBar>\n      {Object.values(state.frames).map(app => (\n        <DockBarIcon\n          key={app.id}\n          app={app}\n          handleClick={() => {\n            actions.frames.up({ id: app.id });\n            actions.frames.show({ id: app.id });\n          }}\n        />\n      ))}\n    </DockBar>\n  </Screen>\n);\n\nif (process.env.NODE_ENV !== \"production\") {\n  require(\"hyperapp-redux-devtools\")(app)(\n    state,\n    actions,\n    App,\n    document.getElementById(\"app\")\n  );\n} else {\n  app(state, actions, App, document.getElementById(\"app\"));\n}\n"]}